---
title: "DataViz Makeover 2"
description: |
  Visual Analytics and Applications - Assignment2
author:
  - name: DONG Fang (Regina)
    url: https://www.linkedin.com/in/reginadongf/
    affiliation: School of Computing and Information Systems, Singapore Management University
    affiliation_url: https://scis.smu.edu.sg/
date: 06-18-2021
output:
  distill::distill_article:
    self_contained: false
    toc: true
    toc_depth: 4
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

# 1. Critiques for Original Visualization

Singapore is a country with large volumes of import and export transactions with various countries/regions. In order to show the merchandise trade of ten major trading partners, below graph was originally designed as the visualization of import and export trade data provided by Department of Statistics, Singapore (DOS).

![](img/img01_ori.jpg)
_Fig.1 Original Visualization_

However, this graph is not a good visualization sample for this topic. I criticized above graph from two aspects, clarity and aesthetics, and explained the reason why it's not good enough.

### 1.1 Clarity

Clarity is to describe how quickly and effectively it imparts to the audience an accurate understanding of some fundamental truth about the real world. For the original graph, there are several points that I think is not meet the requirement of clarity.

**No** | **Critiques**
-------|------------------------------------------------------------------------------------------------------------
1      | **Overlapped bubbles with opaque color and tag, make it difficult to see the size of some bubbles**, such as Malaysia bubble that is almost blocked by EU and United States, or Korea bubble which is mostly covered by Japan. The audience can't tell how big the bubbles of Malaysia and Korea are.
2      | **Can't clearly tell whether some bubble centers fall in the area of net imports or net exports**, cause some centers are covered or too close to the diagonal line. For example, the center of EU is blocked by United States, the center of Korea is blocked by Japan, and the center of Mainland China almost lies on the diagonal line, so it's hard to determine which part of area the three countries belong to.
3      | **It does not show what the figure on the labels exactly stand for.** If it represents the total merchandise trade value, then no label shows specific values of trade surplus and deficit for each country, which is important information for the topic. The original graph only use some icons to show the top net exporter and importer without showing specific net trade amount between the singapore and partners
4      |**No proper title or lead-in verbiage shows which period the graph and data represents.** A proper title is very important to show the key topic of a graph, but this graph even don't have a title. The lead-in verbiage also does not show the period of the graph.
5      |**No option could let the audience select specific period to see the trade performance with different countries/regions in that period.** The graph could only show the trade performance in a fixed period, but what if the audience want to see the data of a specific period.

### 1.2 Aesthetic

The point of Aesthetic is to make the graph looks beautiful. Although the standard of "beauty" is different for everyone, at least we can think the visualization is more beautiful when the graph looks neat and clear, then audiences would like to pay more attention to the graph. In that case, some subtle adjustment is always matter, for example, font and color choices for the graph.  Thus, I have came up with several points on why the original graph is not beautiful enough.

**No.**| **Critiques**
-------|------------------------------------------------------------------------------------------------------------
1      |**The bubbles and labels are represented by too many colors.** Each bubble is linked with a label showing name of country/region and certain figure. But all bubbles and labels are in different colors and block each other, which makes the entire graph look too fancy and distracting. So the audience can't focus on the key information the figure want to convey.
2      |**Some icons are not necessary to for the graph.** For example the two icons next to the start point of axes. It won't provide much valuable information but will distract the audience. 
3      |**The font color and size of the two paragraphs of text in the graph are different, which makes the graph look less concise.** Both paragraphs of text represent some kind of annotation for the graph, but expressed in different font colors and sizes. And the text at the bottom is even placed in a blue box. All these inconsistencies will make the entire graph look untidy and distract the audience.

# 2. Alternative Design

### 2.1 Sketch

The following picture shows the initial design sketch for the visualization of above topic:

![](img/Sketch2.jpg) <br> _Fig.2 Sketch of alternative design_

### 2.2 Advantages of proposed design

The advantages and issues the proposed design try to overcome are listed below:

**NO.**|**Aspect**      |**Advantages**
-------|----------------|-------------------------------------------------------------------------------
1      |Clarity         |**Adjust the size of bubbles and set some extend of transparency for the bubble colors, and show the label for bubbles only when the mouse hover over the bubbles**, which could reduce the overlapped area, and the transparency makes it clear to see the size even if bubbles are overlapped.
2      |Clarity         |**Use color to show whether the partner is net exporter or net importer.** The bubbles and bar chart are blue when export trade amount of specific partner exceed import, otherwise they are in red color. In this case the audience could easily distinguish net exporters and net importers. Besides, the color saturation indicates how high the absolute value of each partner's trade surplus or deficit is.
3      |Clarity         |**An extra bar chart is designed to show the concrete net trade amount and its rank.** The bar chart could clearly show the net trade amount of each countries and the trading partners are sorted in descending order of the net trade values.
4      |Clarity         |**Add proper graph title, lead-in verbiage and reference line.** This proposed design includes a proper title and description of the background, purpose and currency of visualization. It will give audiences a clearer recognition of information passed by the graph. Besides, some reference lines are added to show the average of factors.
5      |Clarity         |**The interactivity of the graph could give audiences the option to choose specific years.** Set an interactive filter to see the trade performance in a specific year, also set the animation to show the track of value changes along with year changes, so that audiences could compare the amount between years.
6      |Clarity         |**The tooltip includes the specific amount and rank of trade for each trading partner, as well as the line chart of export and import amount during 2011 to 2020.** Audience could see the tooltip if they want to know more details about the trade performance. Besides, the line chart can give audiences an intuitive feeling of how the values of export and import trade changes over time.
7      |Aesthetic       |**Simple and consistent color scheme for the entire graph.** The selected colors for the plot area look comfortable, and grid lines are in light gray which won't distract the audience attention. Besides, the color scheme of bubble plot is aligned with the color used in bar chart and line chart.

# 3. Step-by-step Guide

### 3.1 Data preparation steps

**NO.**|**Step**               |**Action**
-------|-----------------------|---------------------------------------------------------
1      |Unzip the zipped folder downloaded |Right click on the zip package and select "Unzip" all and get the raw data workbook "outputFile"
2      |Filter data for imports |Open the workbook called "outputFile", select worksheet "T1" and select row 6, then click on Home pane -> Sort & Filter icon -> Filter <br> ![](img/s1.2.jpg){width=100%} <br> _Fig.3 Filter the data_
3      |Select the target ten trading partners for imports |Click on the triangle at the bottom right corner of cell A6, first uncheck "(Select All)", then check the 10 target countries/regions to filter them out <br> ![](img/s1.3.jpg){width=100%} <br> _Fig.4 Select target trading partners_
4      |Copy out the target countries/regions with import values |After filtering, select cells from A6 to A81, press Ctrl+C on Keyboard, and paste in the A1 cell in a new workbook by pressing Ctrl+V
5      |Select the import data between Jan 2011 to Dec 2020 |Select cells from PF6 to TU81, press Ctrl+C on Keyboard, and paste in the B1 cell in the same workbook as last step by pressing Ctrl+V, name this worksheet as "Import" <br> ![](img/s1.05.jpg){width=100%} <br> _Fig.5 The "Import" sheet after pasting_
6      |Prepare export sheet | Click on the + button next to "Import" sheet and name the new sheet as "Export" <br> ![](img/s1.06.jpg) <br> _Fig.6_
7      |Filter the target ten trading partners for exports |Repeat step 2 and 3 for worksheet "T2" of "outputFile"
8      |Copy out the target countries/regions with export values |After filtering, select cells from A6 to A79, press Ctrl+C on Keyboard, and paste in the A1 cell in a "Export" sheet by pressing Ctrl+V
9      |Select the export data between Jan 2011 to Dec 2020 |Select cells from PF6 to TU79, press Ctrl+C on Keyboard, and paste in the B1 cell in the same sheet as last step by pressing Ctrl+V, save this workbook as "data_cleaned"
10     |Transform Million Dollars to Thousand Dollars for European Union import amount |In the "Import" sheet of "data_cleaned" workbook, type in 1000 in cell A20, copy A20 by pressing Ctrl+C, and select cells from B2 to DQ2, then click on Home pane -> Paste button -> Paste Special…, and select options as following screenshot in the pop up window. <br> ![](img/S1.10_1.jpg){width=35%} ![](img/S1.10_2.jpg){width=60%} <br> _Fig.7 Paste Special_
11     |Transform Thousand Dollars to Dollars for import amount |Copy A20 by pressing Ctrl+C, and select cells from B2 to DQ12, then click on Home pane -> Paste button -> Paste Special…, and select options as step 10. After done this step, clear cell A20
12     |Transform Million Dollars to Thousand Dollars for European Union export amount |Repeat step 10 for "Export" sheet
13     |Transform Thousand Dollars to Dollars for export amount|Repeat step 11 for "Export" sheet
14     |Open Tableau Prep Builder, and drag "data_cleaned" worksheet to the pane|![](img/s1.12.jpg){width=100%} <br> _Fig.8 Drag the data file to the pane of Tableau Prep Builder_
15     |In the opened window, drag "Export" sheet to the workflow pane| ![](img/s1.12-2.jpg){width=100%} <br> _Fig.9 Drag "Export" sheet to the pane_
16     |Click on "+" button next to "Export" sheet icon then click "Pivot"| ![](img/s1.13.jpg) <br> _Fig.10_
17     |In the Settings pane below, select all fields with name consisting of "year month" and drag to the Pivoted Fields pane| ![](img/s1.13-2.jpg){width=100%} <br> _Fig.11_
18     |In the Pivot Result Pane, click on the "Abc" sign on the up left corner of the 1st field, and select data type "Date", then do the same thing for the 2nd field and change the data type as "Number (Whole)"| ![](img/s1.14-1st column.jpg){width=45%} ![](img/s1.14-2ed column.jpg){width=45%} <br> _Fig.12 Change the data type_
19     |Drag "Import" sheet to the workflow pane| Repeat step 17 and 18
20     |On the workflow pane above, click and hold on "Pivot 1" icon, then drag it to the "Join" area when the mouse hover over "Pivot 2" icon |![](img/s1.15.jpg){width=80%} <br> _Fig.13 Join the two sheet_
21     |Below the Settings pane, click the "+" button, set the applied join Clauses using Pivot1Name and Variables fields, and set join type as full by click the to circle as the right side screenshot shows |![](img/s1.15-1.jpg){width=80%} <br> _Fig.14_
22     |In the Join Results pane, double click the name of the 2nd field and type in "Import", as the right side screenshot shows |![](img/s1.15-2.jpg){width=100%} <br> _Fig.15 Change the field name_
23     |As the right side screenshot shows, remove two fields by right click on the field and select "Remove"| ![](img/s1.15-3-1.jpg){width=45%}  ![](img/s1.15-3-3.jpg){width=45%} <br> _Fig.16 Remove duplicate fields_
24     |Right click on the last field and select Split Values -> Automatic Split, then remove the last column as step 23|![](img/s1.15-4_autosplit then remove the last column.jpg){width=80%} <br> _Fig.17 Auto-split the last field_
25     |As step 22, change the 2st field name as "Date", and the 4th as "Export"| ![](img/s1.15-5.jpg){width=100%} <br> _Fig.18 The final result after revising field names_
26     |On the workflow pane, click the "+" button next to "Join 1" sign and select Output| ![](img/s1.16-1.jpg){width=100%} <br> _Fig.19 Export the prepared data_
27     | Edit the output parameters on the output pane as the right side screenshot shows, click Run Flow button to save the prepared data file in csv format, named as "data_stacked"| ![](img/s1.16-2.jpg){width=50%} <br> _Fig.20 Export the prepared data for visualization_


### 3.2 Data visualization steps

####3.2.1 Create bubble plot in Tableau:

**NO.**|**Step**                                         |**Action**
-------|-------------------------------------------------|-------------------------------------------
1      |In Sheet1, drag **Export** and **Import** fields from "Dimensions" area to "Measures" area in the left Tables pane| ![](img/step2.1.jpg){width=50%} <br> _Fig.7 Drag Export and Import to Measures_
2      |Drag **Country/Region** and **Period** to Columns shelf,drag **Measure Values** to Rows shelf, click on "+" on **YEAR(Period)** field then **QUARTER(Period)** filed shows up| ![](img/step2.2.jpg){width=100%} <br> _Fig.8 Columns and Rows shelf after pulling fields_
3      |Remove **CNT(Sheet1)** from Measure Values pane| ![](img/step2.3.jpg) <br> _Fig.9 Remove CNT(Sheet1)_
4      |In Marks Pane, change the mark type from "Automatic" to "Shape" from the dropdown list, drag **Measure Names** to Shape button, **Country/Region** to Colour button and **Import** to Tooltip button| ![](img/step2.4.jpg){width=50%} <br> _Fig.10 Change the Marks_
5      |Drag **Export** to the right side of plot area and the Dual Axis shows up on the right side, right click on the Dual Axis, check "Synchronise Axis" and uncheck "Show Header"| ![](img/step2.5.jpg){width=60%} <br> _Fig.11 Set Dual Axis_
6      |Click on Analysis -> Create Calculated Field, name the new field as **Gap** and type in the formula as ```SUM([Import])-SUM([Export])``` then click on Apply and OK| ![](img/step2.6.jpg){width=100%} <br> _Fig.12 Create calculated field_
7      |Select Measures Values pane in Marks pane, click on Shape button and Select Filled fro Shape Palette dropdown list, click on Assign Palette, then click on Apply and OK| ![](img/step2.7.jpg){width=100%} <br> _Fig.13 Change shape palette_
8      |In Marks -> SUM(Export) Pane, change the mark type from "Automatic" to "Gantt Bar" from the dropdown list, drag **Gap** to Size button. Click on Size button and drag the slide button to the left to make the Gantt Bar thinner, like right figure shows. Then click on Colour button and change the Opacity as 60%| ![](img/step2.8.jpg){width=49%}  ![](img/step2.9.jpg){width=40%} <br> _Fig.14 Draw and format gap bridge_
9      |Right click vertical axis and select Edit Axis, change the Axis Title as "Amount (SGD)"| ![](img/step2.10.jpg){width=70%} <br> _Fig.15 Change axis title_
10     |Right click on **AGG(Gap)** and select "Format...", then change the number format as right side figure shows, do the same formatting for **SUM(Import)** and **SUM(Export)**| ![](img/step2.11.jpg){width=80%} <br> _Fig.16 Change numbers format_
11     |In Marks -> Measure Values pane, click on Tooltip button and change the tooltip massage as right side figure shows, note that also change the font as 8| ![](img/step2.12.jpg){width=100%} <br> _Fig.17 Modify tooltip for points_
12     |In Marks -> SUM(Export) pane, click on Tooltip button and change the tooltip massage as right side figure shows, note that also change the font as 8| ![](img/step2.13.jpg){width=100%} <br> _Fig.18 Modify tooltip for bridges_
13     | Hide worksheet title, Change the "Standard" to "Fit Width" on the top bar| ![](img/step2.14.jpg){width=49%} ![](img/step2.15.jpg){width=49%} <br> _Fig.19_
14     |Click the one country/Region name and hold, then drag to adjust the sort order of Columns by descending order of total export trade amount in 2019-2020, the final arrangement should be like right side figure shows| ![](img/step2.16.jpg){width=100%} <br> _Fig.20 Arrange the order of columns_
15     |Add Annotations for the highest and lowest quarterly total amount of export and import points by right click on the target points -> Annotate -> Mark..., set the font of annotation as 8, and input in the Edit Annotation pane as following accordingly: <br>  ![](img/ForAnnotation.jpg){width=100%} <br> Then drag the annotations to the proper position as right side figure shows| ![](img/step2.17.jpg){width=100%} <br> _Fig.21 Create annotations_

####3.2.2 Create bar chart in Tableau:



####3.2.3 Create line chart in Tableau:



####3.2.4 Create dashboard in Tableau:

**NO.**|**Step**                                   |**Action**
-------|-------------------------------------------|-------------------------------------------
16     |Click the New Dashboard button and drag Sheet 1 into the blank dashboard, then change the size of Dashboard as Generic Desktop (1366x768). Right click on title area on the top and select "Hide Title". Right click on Measure Names legend and click on "Edit Title" then change the title as "Trade Type" | ![](img/step2.18.jpg){width=100%} <br> ![](img/step2.18_2.jpg){width=100%} <br> _Fig.22 Add Dashboard_
17     |From Objects pane, click on Text and drag to top of the plot area, and type in graph title like right side figure shows. Set the font as 14, bold and in black color| ![](img/step2.19.jpg){width=80%} <br> _Fig.23 Edit graph title_ 
18     |From Objects pane, click on Text and drag to area just below graph title, and type in lead-in verbiage like right side figure shows. Keep the defaul font settings| ![](img/step2.20.jpg){width=80%} <br> _Fig.24 Edit lead-in verbiage_
19     |From Objects pane, click on Text and drag to the bottom of plot area, and type in data source reference like right side figure shows. Keep the defaul font settings| ![](img/step2.21.jpg){width=80%} <br> _Fig.25 Edit data source reference_

# 4. Final Visualization

![](img/Dashboard.jpg) <br> _Fig.26 Snapshot of final dashboard_

Full visualization is available at [**Tableau Public**](https://public.tableau.com/app/profile/dong.fang.regina/viz/DataVizMakeover1SingaporeExportandImportTrade/Dashboard2)

# 5. Major Observations

Below list observations for this visualization and related interpretations:

**NO.**|**Observations**                              |**Interpretations**
-------|----------------------------------------------|----------------------------------------------
1      |

